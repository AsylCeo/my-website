!function(C){C.fn.marquee=function(j){return this.each(function(){var i,a,n,r,s,o=C.extend({},C.fn.marquee.defaults,j),u=C(this),d=3,e="animation-play-state",p=!1,l=function(e,t,i){for(var a=["webkit","moz","MS","o",""],n=0;n<a.length;n++)a[n]||(t=t.toLowerCase()),e.addEventListener(a[n]+t,i,!1)},t={pause:function(){p&&o.allowCss3Support?i.css(e,"paused"):C.fn.pause&&i.pause(),u.data("runningStatus","paused"),u.trigger("paused")},resume:function(){p&&o.allowCss3Support?i.css(e,"running"):C.fn.resume&&i.resume(),u.data("runningStatus","resumed"),u.trigger("resumed")},toggle:function(){t["resumed"==u.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(u.timer),u.find("*").andSelf().unbind(),u.html(u.find(".js-marquee:first").html())}};if("string"==typeof j)C.isFunction(t[j])&&(i||(i=u.find(".js-marquee-wrapper")),!0===u.data("css3AnimationIsSupported")&&(p=!0),t[j]());else{var c;C.each(o,function(e,t){if(void 0!==(c=u.attr("data-"+e))){switch(c){case"true":c=!0;break;case"false":c=!1}o[e]=c}}),o.speed&&(o.duration=o.speed*parseInt(u.width(),10)),r="up"==o.direction||"down"==o.direction,o.gap=o.duplicated?parseInt(o.gap):0,u.wrapInner('<div class="js-marquee"></div>');var f=u.find(".js-marquee").css({"margin-right":o.gap,float:"left"});if(o.duplicated&&f.clone(!0).appendTo(u),u.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),i=u.find(".js-marquee-wrapper"),r){var m=u.height();i.removeAttr("style"),u.height(m),u.find(".js-marquee").css({float:"none","margin-bottom":o.gap,"margin-right":0}),o.duplicated&&u.find(".js-marquee:last").css({"margin-bottom":0});var g=u.find(".js-marquee:first").height()+o.gap;o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(g,10)+parseInt(m,10))/parseInt(m,10)*o.duration,o.duration*=parseInt(g,10)/parseInt(m,10)):o.duration*=(parseInt(g,10)+parseInt(m,10))/parseInt(m,10)}else s=u.find(".js-marquee:first").width()+o.gap,a=u.width(),o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(s,10)+parseInt(a,10))/parseInt(a,10)*o.duration,o.duration*=parseInt(s,10)/parseInt(a,10)):o.duration*=(parseInt(s,10)+parseInt(a,10))/parseInt(a,10);if(o.duplicated&&(o.duration/=2),o.allowCss3Support){f=document.body||document.createElement("div");var h="marqueeAnimation-"+Math.floor(1e7*Math.random()),v=["Webkit","Moz","O","ms","Khtml"],y="animation",I="",x="";if(f.style.animation&&(x="@keyframes "+h+" ",p=!0),!1===p)for(var b=0;b<v.length;b++)if(void 0!==f.style[v[b]+"AnimationName"]){f="-"+v[b].toLowerCase()+"-",y=f+y,e=f+e,x="@"+f+"keyframes "+h+" ",p=!0;break}p&&(I=h+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s infinite "+o.css3easing,u.data("css3AnimationIsSupported",!0))}var S=function(){i.css("margin-top","up"==o.direction?m+"px":"-"+g+"px")},w=function(){i.css("margin-left","left"==o.direction?a+"px":"-"+s+"px")};o.duplicated?(r?o.startVisible?i.css("margin-top",0):i.css("margin-top","up"==o.direction?m+"px":"-"+(2*g-o.gap)+"px"):o.startVisible?i.css("margin-left",0):i.css("margin-left","left"==o.direction?a+"px":"-"+(2*s-o.gap)+"px"),o.startVisible||(d=1)):o.startVisible?d=2:r?S():w();var q=function(){if(o.duplicated&&(1===d?(o._originalDuration=o.duration,o.duration=r?"up"==o.direction?o.duration+m/(g/o.duration):2*o.duration:"left"==o.direction?o.duration+a/(s/o.duration):2*o.duration,I&&(I=h+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),d++):2===d&&(o.duration=o._originalDuration,I&&(h+="0",x=C.trim(x)+"0 ",I=h+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),d++)),r?o.duplicated?(2<d&&i.css("margin-top","up"==o.direction?0:"-"+g+"px"),n={"margin-top":"up"==o.direction?"-"+g+"px":0}):o.startVisible?2===d?(I&&(I=h+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),n={"margin-top":"up"==o.direction?"-"+g+"px":m+"px"},d++):3===d&&(o.duration=o._completeDuration,I&&(h+="0",x=C.trim(x)+"0 ",I=h+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),S()):(S(),n={"margin-top":"up"==o.direction?"-"+i.height()+"px":m+"px"}):o.duplicated?(2<d&&i.css("margin-left","left"==o.direction?0:"-"+s+"px"),n={"margin-left":"left"==o.direction?"-"+s+"px":0}):o.startVisible?2===d?(I&&(I=h+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),n={"margin-left":"left"==o.direction?"-"+s+"px":a+"px"},d++):3===d&&(o.duration=o._completeDuration,I&&(h+="0",x=C.trim(x)+"0 ",I=h+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),w()):(w(),n={"margin-left":"left"==o.direction?"-"+s+"px":a+"px"}),u.trigger("beforeStarting"),p){i.css(y,I);var e=x+" { 100%  "+function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t+":"+e[t]);return i.push(),"{"+i.join(",")+"}"}(n)+"}",t=i.find("style");0!==t.length?t.filter(":last").html(e):i.append("<style>"+e+"</style>"),l(i[0],"AnimationIteration",function(){u.trigger("finished")}),l(i[0],"AnimationEnd",function(){q(),u.trigger("finished")})}else i.animate(n,o.duration,o.easing,function(){u.trigger("finished"),o.pauseOnCycle?u.timer=setTimeout(q,o.delayBeforeStart):q()});u.data("runningStatus","resumed")};u.bind("pause",t.pause),u.bind("resume",t.resume),o.pauseOnHover&&u.bind("mouseenter mouseleave",t.toggle),p&&o.allowCss3Support?q():u.timer=setTimeout(q,o.delayBeforeStart)}})},C.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}}(jQuery)